const _0x46a026=_0x2dd3;(function(_0x2ae228,_0x2c5311){const _0x334ddb=_0x2dd3,_0xb13eca=_0x2ae228();while(!![]){try{const _0xcc8298=-parseInt(_0x334ddb(0x97))/0x1+-parseInt(_0x334ddb(0x83))/0x2+parseInt(_0x334ddb(0x146))/0x3+parseInt(_0x334ddb(0xb2))/0x4*(parseInt(_0x334ddb(0xe3))/0x5)+parseInt(_0x334ddb(0x159))/0x6+parseInt(_0x334ddb(0xbb))/0x7*(-parseInt(_0x334ddb(0xfc))/0x8)+-parseInt(_0x334ddb(0xc4))/0x9*(parseInt(_0x334ddb(0xa2))/0xa);if(_0xcc8298===_0x2c5311)break;else _0xb13eca['push'](_0xb13eca['shift']());}catch(_0x46386a){_0xb13eca['push'](_0xb13eca['shift']());}}}(_0x3ffe,0xe946a));const firebaseConfig={'apiKey':'AIzaSyBMioKaf2knW9BtrdUkrteEcIaKBJvG8JE','authDomain':_0x46a026(0x13f),'databaseURL':'https://razia-data-default-rtdb.firebaseio.com','projectId':_0x46a026(0x10d),'storageBucket':_0x46a026(0x9b),'messagingSenderId':_0x46a026(0x14c),'appId':_0x46a026(0xd5),'measurementId':_0x46a026(0x14e)};firebase['initializeApp'](firebaseConfig);const database=firebase['database'](),storage=firebase[_0x46a026(0x87)]();let currentMonth=null,selectedReservationKey=null;function formatPrice(_0xc40775){const _0x44f9df=_0x46a026;return _0xc40775['toLocaleString'](_0x44f9df(0xe0),{'minimumFractionDigits':0x0})+_0x44f9df(0x173);}function checkCredentials(_0x3fa51b,_0x33880c){const _0x3f7d7f=_0x46a026;return database[_0x3f7d7f(0x93)](_0x3f7d7f(0x92)+_0x3fa51b)[_0x3f7d7f(0x16b)]('value')[_0x3f7d7f(0x106)](_0x5e1123=>{const _0x71de4=_0x3f7d7f;if(_0x5e1123[_0x71de4(0xf4)]()){const _0x1f6583=_0x5e1123[_0x71de4(0x13b)]();if(_0x1f6583[_0x71de4(0x16d)]===_0x33880c)return window[_0x71de4(0x148)]=_0x3fa51b,window['loggedInUserStatus']=_0x1f6583[_0x71de4(0x84)],!![];}return![];});}document['getElementById']('loginForm')[_0x46a026(0xc9)]('submit',function(_0xce3600){const _0x437b9a=_0x46a026;_0xce3600['preventDefault']();const _0x57e0e2=document[_0x437b9a(0x82)](_0x437b9a(0x9e))[_0x437b9a(0x16f)],_0x8473a0=document['getElementById'](_0x437b9a(0x16d))[_0x437b9a(0x16f)];checkCredentials(_0x57e0e2,_0x8473a0)[_0x437b9a(0x106)](_0x11dc93=>{const _0x47e3cb=_0x437b9a;if(_0x11dc93){document['getElementById'](_0x47e3cb(0x95))[_0x47e3cb(0x12c)]['display']='none',document[_0x47e3cb(0x82)](_0x47e3cb(0xa7))['style']['display']='block',document['getElementById']('usernameDisplay')[_0x47e3cb(0x129)]='Utilisateur\x20:\x20'+window['loggedInUsername'],document[_0x47e3cb(0x82)](_0x47e3cb(0xaa))['textContent']=_0x47e3cb(0x162)+window[_0x47e3cb(0x136)];if(window['loggedInUserStatus']==='admin'){const _0x305709=document[_0x47e3cb(0x10c)]('.edit-icon'),_0x4d7ebc=document[_0x47e3cb(0x10c)](_0x47e3cb(0x15e));_0x305709[_0x47e3cb(0x16c)](_0x30f7b8=>_0x30f7b8[_0x47e3cb(0x12c)][_0x47e3cb(0x119)]=_0x47e3cb(0xa3)),_0x4d7ebc[_0x47e3cb(0x16c)](_0x47343c=>_0x47343c[_0x47e3cb(0x12c)]['display']=_0x47e3cb(0xa3));}loadDataFromDatabase();}else alert('Nom\x20d\x27utilisateur\x20ou\x20mot\x20de\x20passe\x20incorrect.');});});function _0x2dd3(_0x5c9837,_0x565a08){const _0x3ffeb9=_0x3ffe();return _0x2dd3=function(_0x2dd3dc,_0x427783){_0x2dd3dc=_0x2dd3dc-0x82;let _0x5a63bb=_0x3ffeb9[_0x2dd3dc];return _0x5a63bb;},_0x2dd3(_0x5c9837,_0x565a08);}const togglePassword=document[_0x46a026(0x117)](_0x46a026(0xda)),password=document['querySelector']('#password');togglePassword[_0x46a026(0xc9)](_0x46a026(0xad),function(_0x343599){const _0x47a3f7=_0x46a026,_0xeec22b=password[_0x47a3f7(0x143)](_0x47a3f7(0xd8))===_0x47a3f7(0x16d)?'text':_0x47a3f7(0x16d);password[_0x47a3f7(0x13a)](_0x47a3f7(0xd8),_0xeec22b),this[_0x47a3f7(0xb6)][_0x47a3f7(0xae)](_0x47a3f7(0x123));});function toggleAdvanceField(_0x56a1e2=_0x46a026(0xea)){const _0x2eb57b=_0x46a026,_0x30ab22=document['getElementById'](_0x56a1e2),_0x497ce1=document[_0x2eb57b(0x82)](_0x2eb57b(0x12d))[_0x2eb57b(0x16f)];_0x30ab22[_0x2eb57b(0x12c)][_0x2eb57b(0x119)]=_0x497ce1===_0x2eb57b(0xf9)?'grid':_0x2eb57b(0x111),document[_0x2eb57b(0x82)](_0x2eb57b(0x145))[_0x2eb57b(0x12c)][_0x2eb57b(0x119)]=_0x497ce1===_0x2eb57b(0x130)?_0x2eb57b(0xba):_0x2eb57b(0x111);if(_0x56a1e2==='editAdvanceField'){const _0x209763=document['getElementById']('editSaleType')[_0x2eb57b(0x16f)];_0x30ab22['style']['display']=_0x209763===_0x2eb57b(0xf9)?_0x2eb57b(0xba):_0x2eb57b(0x111),document[_0x2eb57b(0x82)](_0x2eb57b(0xa4))[_0x2eb57b(0x12c)][_0x2eb57b(0x119)]=_0x209763===_0x2eb57b(0x130)?'grid':_0x2eb57b(0x111);}}document[_0x46a026(0x82)](_0x46a026(0xfa))[_0x46a026(0xc9)](_0x46a026(0xcf),function(_0x55b407){const _0x385cbf=_0x46a026;_0x55b407['preventDefault']();if(window[_0x385cbf(0x136)]==='admin'||window[_0x385cbf(0x136)]===_0x385cbf(0xb4)){const _0x559fd1=document[_0x385cbf(0x82)]('date')['value'],_0x4019a3=document['getElementById'](_0x385cbf(0x12d))['value'],_0x328092=document['getElementById'](_0x385cbf(0xca))[_0x385cbf(0x16f)],_0x4c4a57=document[_0x385cbf(0x82)](_0x385cbf(0xac))[_0x385cbf(0x16f)],_0x17273a=parseFloat(document['getElementById'](_0x385cbf(0x144))[_0x385cbf(0x16f)]['replace'](/\sF CFA$/,'')[_0x385cbf(0xdf)](/\s/g,'')),_0x1129a6=_0x4019a3===_0x385cbf(0xf9)?parseFloat(document[_0x385cbf(0x82)](_0x385cbf(0x15d))[_0x385cbf(0x16f)]):0x0,_0x2b5f0c=_0x4019a3===_0x385cbf(0xf9)?document[_0x385cbf(0x82)](_0x385cbf(0x154))[_0x385cbf(0x16f)]:'',_0x3ca78a=_0x4019a3==='retour'?parseFloat(document['getElementById']('montantAjoute')[_0x385cbf(0x16f)]):0x0,_0x4d96e1=document['getElementById'](_0x385cbf(0xd6))['files'][0x0],_0x4afd39=_0x4019a3===_0x385cbf(0x130)?document['getElementById'](_0x385cbf(0x170))[_0x385cbf(0x86)][0x0]:null,_0x440bc5={'date':_0x559fd1,'saleType':_0x4019a3,'quantity':_0x328092,'designation':_0x4c4a57,'price':_0x17273a,'advance':_0x1129a6,'telephone':_0x2b5f0c,'montantAjoute':_0x3ca78a};let _0x5752c6;if(_0x4019a3==='reservation')_0x5752c6=database['ref'](_0x385cbf(0x13c))[_0x385cbf(0x149)]();else _0x4019a3===_0x385cbf(0x130)?_0x5752c6=database[_0x385cbf(0x93)](_0x385cbf(0xf6))[_0x385cbf(0x149)]():_0x5752c6=database[_0x385cbf(0x93)]()[_0x385cbf(0x149)]();_0x5752c6[_0x385cbf(0xd0)](_0x440bc5)[_0x385cbf(0x106)](()=>{const _0x421136=_0x385cbf;if(_0x4019a3===_0x421136(0x130)&&_0x4d96e1&&_0x4afd39){const _0x981fea=storage[_0x421136(0x93)]()['child'](_0x421136(0x12a)+_0x5752c6[_0x421136(0x163)]+_0x421136(0xee)),_0x262ce2=storage['ref']()[_0x421136(0xce)](_0x421136(0x12a)+_0x5752c6['key']+_0x421136(0x121));return Promise[_0x421136(0x90)]([_0x981fea['put'](_0x4d96e1),_0x262ce2['put'](_0x4afd39)])[_0x421136(0x106)](([_0x421258,_0x5e425c])=>{const _0x45c8a6=_0x421136;return _0x5752c6[_0x45c8a6(0x8b)]({'image':_0x421258[_0x45c8a6(0x93)][_0x45c8a6(0x11c)],'ancienneImage':_0x5e425c[_0x45c8a6(0x93)][_0x45c8a6(0x11c)]});});}else{if(_0x4d96e1){const _0x4f9a45=storage[_0x421136(0x93)]()['child'](_0x421136(0x12a)+_0x5752c6['key']+_0x421136(0xd2));return _0x4f9a45[_0x421136(0xc7)](_0x4d96e1)[_0x421136(0x106)](_0x39fd79=>{const _0x58f9c1=_0x421136;return _0x5752c6[_0x58f9c1(0x8b)]({'image':_0x39fd79[_0x58f9c1(0x93)][_0x58f9c1(0x11c)]});});}}})['then'](()=>{const _0x167a06=_0x385cbf,_0x1302b1=_0x4019a3===_0x167a06(0xf9)?'La\x20réservation\x20a\x20été\x20enregistrée\x20avec\x20succès.':_0x4019a3===_0x167a06(0x130)?_0x167a06(0xcb):_0x167a06(0xe2);alert(_0x1302b1),clearTable(),loadDataFromDatabase();const _0x2252c4=_0x4019a3===_0x167a06(0xf9)?'reservationsContainer':_0x4019a3===_0x167a06(0x130)?'retoursContainer':'tableContainer';document[_0x167a06(0x82)](_0x2252c4)['style'][_0x167a06(0x119)]=_0x167a06(0x9c);const _0xf3cbb=[_0x167a06(0xd7),_0x167a06(0xf7),_0x167a06(0xef)][_0x167a06(0x141)](_0x329b31=>_0x329b31!==_0x2252c4);_0xf3cbb[_0x167a06(0x16c)](_0x4cf4b2=>document['getElementById'](_0x4cf4b2)[_0x167a06(0x12c)][_0x167a06(0x119)]='none'),document[_0x167a06(0x82)](_0x2252c4)[_0x167a06(0x15a)]({'behavior':_0x167a06(0xb3)}),resetForm(_0x167a06(0xfa)),document['getElementById'](_0x167a06(0x100))[_0x167a06(0x176)]();})[_0x385cbf(0xfb)](_0x193905=>{const _0xb7e3e=_0x385cbf;console['error'](_0xb7e3e(0x10f),_0x193905);});}else alert(_0x385cbf(0xe5));});function addRowToTable(_0x1442bd,_0x35481d,_0x56424a=_0x46a026(0xf3),_0x19d1d4=![]){const _0x519e69=_0x46a026,_0x5dc58e=document[_0x519e69(0x82)](_0x56424a)['getElementsByTagName']('tbody')[0x0],_0x222af3=_0x1442bd[_0x519e69(0x100)][_0x519e69(0x132)]('-');if(_0x222af3['length']===0x3){const _0x30eb78=parseInt(_0x222af3[0x0],0xa),_0x28121e=parseInt(_0x222af3[0x1],0xa)-0x1,_0x3a67a4=parseInt(_0x222af3[0x2],0xa),_0x4cc3e9=new Date(_0x30eb78,_0x28121e,_0x3a67a4),_0x241823=_0x4cc3e9[_0x519e69(0x131)](_0x519e69(0x8a),{'month':_0x519e69(0xc0)})+'\x20'+_0x4cc3e9[_0x519e69(0x9a)]();_0x19d1d4?currentMonth!==_0x241823&&(addMonthSeparator(_0x5dc58e,_0x241823,_0x19d1d4),currentMonth=_0x241823):_0x241823!==currentMonth&&(addMonthSeparator(_0x5dc58e,_0x241823,_0x19d1d4),currentMonth=_0x241823);}else{console[_0x519e69(0x155)]('Format\x20de\x20date\x20incorrect:\x20'+_0x1442bd['date']);const _0x36a507=_0x5dc58e[_0x519e69(0x109)](_0x19d1d4?0x0:null),_0x5f5a8c=_0x36a507[_0x519e69(0xdd)]();_0x5f5a8c[_0x519e69(0x16a)]=0x7,_0x5f5a8c[_0x519e69(0x129)]=_0x519e69(0x124)+_0x1442bd[_0x519e69(0x100)]+')',_0x5f5a8c[_0x519e69(0xb6)]['add'](_0x519e69(0x160));return;}const _0x47a5f1=_0x5dc58e[_0x519e69(0x109)](_0x19d1d4?0x0:null);_0x47a5f1[_0x519e69(0x13a)](_0x519e69(0x8f),_0x35481d),_0x47a5f1['insertCell']()[_0x519e69(0x129)]=_0x1442bd[_0x519e69(0x100)],_0x47a5f1[_0x519e69(0xdd)]()[_0x519e69(0x129)]=_0x1442bd['saleType'],_0x47a5f1[_0x519e69(0xdd)]()['textContent']=_0x1442bd[_0x519e69(0xca)],_0x47a5f1['insertCell']()[_0x519e69(0x129)]=_0x1442bd['designation'],_0x47a5f1[_0x519e69(0xdd)]()['textContent']=formatPrice(_0x1442bd[_0x519e69(0x144)]);const _0x2c31a3=_0x47a5f1[_0x519e69(0xdd)]();_0x1442bd[_0x519e69(0xd6)]?storage[_0x519e69(0x93)](_0x1442bd['image'])['getMetadata']()['then'](()=>{const _0x4428ea=_0x519e69;return storage['ref'](_0x1442bd[_0x4428ea(0xd6)])[_0x4428ea(0x165)]();})[_0x519e69(0x106)](_0x16df5e=>{const _0xe77ab7=_0x519e69,_0x474de6=document[_0xe77ab7(0x11b)](_0xe77ab7(0x14a));_0x474de6[_0xe77ab7(0xb5)]=_0x16df5e,_0x474de6[_0xe77ab7(0x158)]=_0xe77ab7(0x14d),_0x474de6[_0xe77ab7(0x12c)]['maxWidth']=_0xe77ab7(0x134),_0x474de6['style']['maxHeight']=_0xe77ab7(0x134),_0x2c31a3[_0xe77ab7(0x12f)](_0x474de6),_0x474de6[_0xe77ab7(0xc9)](_0xe77ab7(0xad),function(){openImageModal(_0x16df5e);});})[_0x519e69(0xfb)](_0x23dda3=>{const _0x1f7c4c=_0x519e69;console[_0x1f7c4c(0x155)](_0x1f7c4c(0xcc),_0x23dda3),_0x2c31a3[_0x1f7c4c(0x129)]=_0x1f7c4c(0x147);}):_0x2c31a3[_0x519e69(0x129)]=_0x519e69(0x167);const _0x2cd4ab=_0x47a5f1[_0x519e69(0xdd)]();if(window[_0x519e69(0x136)]==='admin'){const _0x223279=document[_0x519e69(0x11b)]('i');_0x223279['className']=_0x519e69(0xe7),_0x223279[_0x519e69(0x13a)](_0x519e69(0x8f),_0x35481d),_0x223279['addEventListener']('click',openEditForm),_0x2cd4ab['appendChild'](_0x223279);const _0x3f7664=document[_0x519e69(0x11b)]('i');_0x3f7664[_0x519e69(0x91)]=_0x519e69(0x115),_0x3f7664[_0x519e69(0x13a)](_0x519e69(0x8f),_0x35481d),_0x3f7664[_0x519e69(0xc9)]('click',deleteData),_0x2cd4ab[_0x519e69(0x12f)](_0x3f7664);}}function addRowToReservationTable(_0x5366ad,_0xf2257c,_0xdfa09d=![]){const _0x212933=_0x46a026,_0x4cfd6c=document[_0x212933(0x82)]('reservationTable')[_0x212933(0x15b)]('tbody')[0x0],_0x572e61=_0x5366ad[_0x212933(0x100)][_0x212933(0x132)]('-');if(_0x572e61[_0x212933(0x118)]===0x3){const _0x5428c2=parseInt(_0x572e61[0x0],0xa),_0x2056f9=parseInt(_0x572e61[0x1],0xa)-0x1,_0x477a67=parseInt(_0x572e61[0x2],0xa),_0x33bdc3=new Date(_0x5428c2,_0x2056f9,_0x477a67),_0x596cb5=_0x33bdc3[_0x212933(0x131)](_0x212933(0x8a),{'month':_0x212933(0xc0)})+'\x20'+_0x33bdc3[_0x212933(0x9a)]();_0xdfa09d?currentMonth!==_0x596cb5&&(addMonthSeparator(_0x4cfd6c,_0x596cb5,_0xdfa09d),currentMonth=_0x596cb5):_0x596cb5!==currentMonth&&(addMonthSeparator(_0x4cfd6c,_0x596cb5,_0xdfa09d),currentMonth=_0x596cb5);}else{console['error'](_0x212933(0x9f)+_0x5366ad[_0x212933(0x100)]);const _0x398e8e=_0x4cfd6c[_0x212933(0x109)](_0xdfa09d?0x0:null),_0x119b2e=_0x398e8e[_0x212933(0xdd)]();_0x119b2e[_0x212933(0x16a)]=0x9,_0x119b2e[_0x212933(0x129)]=_0x212933(0x124)+_0x5366ad[_0x212933(0x100)]+')',_0x119b2e[_0x212933(0xb6)][_0x212933(0xdb)](_0x212933(0x160));return;}const _0x14ef4e=_0x4cfd6c[_0x212933(0x109)](_0xdfa09d?0x0:null);_0x14ef4e[_0x212933(0x13a)](_0x212933(0x8f),_0xf2257c),_0x14ef4e[_0x212933(0xc9)]('click',function(){const _0x239090=_0x212933,_0x401834=_0x4cfd6c[_0x239090(0x10c)]('tr');_0x401834[_0x239090(0x16c)](_0x3be548=>_0x3be548[_0x239090(0xb6)][_0x239090(0x10a)](_0x239090(0xdc))),this[_0x239090(0xb6)]['add'](_0x239090(0xdc)),selectedReservationKey=_0xf2257c;}),_0x14ef4e[_0x212933(0xdd)]()[_0x212933(0x129)]=_0x5366ad[_0x212933(0x100)],_0x14ef4e[_0x212933(0xdd)]()[_0x212933(0x129)]=_0x5366ad['designation'],_0x14ef4e[_0x212933(0xdd)]()[_0x212933(0x129)]=_0x5366ad[_0x212933(0xca)],_0x14ef4e[_0x212933(0xdd)]()[_0x212933(0x129)]=formatPrice(_0x5366ad[_0x212933(0x125)]);const _0x4c2aa6=_0x5366ad[_0x212933(0x144)]-_0x5366ad[_0x212933(0x125)];_0x14ef4e[_0x212933(0xdd)]()[_0x212933(0x129)]=formatPrice(_0x4c2aa6),_0x14ef4e[_0x212933(0xdd)]()[_0x212933(0x129)]=formatPrice(_0x5366ad[_0x212933(0x144)]);const _0xcae242=_0x14ef4e['insertCell']();_0x5366ad['image']?storage['ref'](_0x5366ad[_0x212933(0xd6)])[_0x212933(0x8e)]()[_0x212933(0x106)](()=>{const _0x3dcf98=_0x212933;return storage[_0x3dcf98(0x93)](_0x5366ad[_0x3dcf98(0xd6)])[_0x3dcf98(0x165)]();})['then'](_0x376747=>{const _0x3a8966=_0x212933,_0x133167=document[_0x3a8966(0x11b)](_0x3a8966(0x14a));_0x133167[_0x3a8966(0xb5)]=_0x376747,_0x133167[_0x3a8966(0x158)]=_0x3a8966(0x14d),_0x133167[_0x3a8966(0x12c)]['maxWidth']=_0x3a8966(0x134),_0x133167[_0x3a8966(0x12c)]['maxHeight']=_0x3a8966(0x134),_0xcae242['appendChild'](_0x133167),_0x133167[_0x3a8966(0xc9)]('click',function(){openImageModal(_0x376747);});})[_0x212933(0xfb)](_0x1f08ed=>{const _0x5790a9=_0x212933;console[_0x5790a9(0x155)](_0x5790a9(0xcc),_0x1f08ed),_0xcae242[_0x5790a9(0x129)]='Image\x20non\x20disponible';}):_0xcae242['textContent']=_0x212933(0x167);_0x14ef4e[_0x212933(0xdd)]()[_0x212933(0x129)]=_0x5366ad[_0x212933(0x154)];const _0x80f26f=_0x14ef4e[_0x212933(0xdd)]();if(window[_0x212933(0x136)]==='admin'){const _0x1e2e89=document[_0x212933(0x11b)]('button');_0x1e2e89[_0x212933(0x129)]='Payer\x20une\x20tranche',_0x1e2e89[_0x212933(0xc9)](_0x212933(0xad),function(){openTrancheModal(_0xf2257c,_0x5366ad);}),_0x80f26f['appendChild'](_0x1e2e89);const _0x19c6c4=document[_0x212933(0x11b)]('i');_0x19c6c4[_0x212933(0x91)]='fas\x20fa-edit\x20edit-icon',_0x19c6c4[_0x212933(0x13a)](_0x212933(0x8f),_0xf2257c),_0x19c6c4[_0x212933(0xc9)](_0x212933(0xad),openEditReservationForm),_0x80f26f[_0x212933(0x12f)](_0x19c6c4);const _0x23fefb=document[_0x212933(0x11b)]('i');_0x23fefb[_0x212933(0x91)]=_0x212933(0x115),_0x23fefb[_0x212933(0x13a)]('data-key',_0xf2257c),_0x23fefb['addEventListener'](_0x212933(0xad),deleteData),_0x80f26f[_0x212933(0x12f)](_0x23fefb);}}function addRowToRetourTable(_0x1f7cca,_0x357a8f,_0x3fd361=![]){const _0x469b7f=_0x46a026,_0x2ce65f=document[_0x469b7f(0x82)]('retourTable')[_0x469b7f(0x15b)](_0x469b7f(0x10b))[0x0],_0x269913=_0x1f7cca[_0x469b7f(0x100)][_0x469b7f(0x132)]('-');if(_0x269913[_0x469b7f(0x118)]===0x3){const _0x14f094=parseInt(_0x269913[0x0],0xa),_0x592278=parseInt(_0x269913[0x1],0xa)-0x1,_0x22ade7=parseInt(_0x269913[0x2],0xa),_0xaf564e=new Date(_0x14f094,_0x592278,_0x22ade7),_0x2d0913=_0xaf564e[_0x469b7f(0x131)]('default',{'month':_0x469b7f(0xc0)})+'\x20'+_0xaf564e[_0x469b7f(0x9a)]();_0x3fd361?currentMonth!==_0x2d0913&&(addMonthSeparator(_0x2ce65f,_0x2d0913,_0x3fd361),currentMonth=_0x2d0913):_0x2d0913!==currentMonth&&(addMonthSeparator(_0x2ce65f,_0x2d0913,_0x3fd361),currentMonth=_0x2d0913);}else{console[_0x469b7f(0x155)]('Format\x20de\x20date\x20incorrect:\x20'+_0x1f7cca[_0x469b7f(0x100)]);const _0x51b1ac=_0x2ce65f['insertRow'](_0x3fd361?0x0:null),_0x2a780d=_0x51b1ac[_0x469b7f(0xdd)]();_0x2a780d['colSpan']=0x8,_0x2a780d[_0x469b7f(0x129)]=_0x469b7f(0x124)+_0x1f7cca[_0x469b7f(0x100)]+')',_0x2a780d[_0x469b7f(0xb6)][_0x469b7f(0xdb)](_0x469b7f(0x160));return;}const _0x1585ce=_0x2ce65f[_0x469b7f(0x109)](_0x3fd361?0x0:null);_0x1585ce[_0x469b7f(0x13a)](_0x469b7f(0x8f),_0x357a8f),_0x1585ce['insertCell']()['textContent']=_0x1f7cca[_0x469b7f(0x100)],_0x1585ce[_0x469b7f(0xdd)]()[_0x469b7f(0x129)]=_0x1f7cca[_0x469b7f(0xac)],_0x1585ce[_0x469b7f(0xdd)]()[_0x469b7f(0x129)]=_0x1f7cca[_0x469b7f(0xca)],_0x1585ce[_0x469b7f(0xdd)]()[_0x469b7f(0x129)]=formatPrice(_0x1f7cca[_0x469b7f(0x98)]),_0x1585ce[_0x469b7f(0xdd)]()[_0x469b7f(0x129)]=formatPrice(_0x1f7cca[_0x469b7f(0x144)]);const _0xb56c60=_0x1585ce['insertCell']();_0x1f7cca['ancienneImage']?storage[_0x469b7f(0x93)](_0x1f7cca[_0x469b7f(0x170)])[_0x469b7f(0x8e)]()[_0x469b7f(0x106)](()=>{const _0x5b1896=_0x469b7f;return storage[_0x5b1896(0x93)](_0x1f7cca[_0x5b1896(0x170)])['getDownloadURL']();})[_0x469b7f(0x106)](_0x2e160e=>{const _0x2427a5=_0x469b7f,_0x229ede=document[_0x2427a5(0x11b)](_0x2427a5(0x14a));_0x229ede['src']=_0x2e160e,_0x229ede[_0x2427a5(0x158)]=_0x2427a5(0xa1),_0x229ede[_0x2427a5(0x12c)][_0x2427a5(0x175)]='100px',_0x229ede[_0x2427a5(0x12c)]['maxHeight']='100px',_0xb56c60[_0x2427a5(0x12f)](_0x229ede),_0x229ede['addEventListener'](_0x2427a5(0xad),function(){openImageModal(_0x2e160e);});})[_0x469b7f(0xfb)](_0x28c129=>{const _0x4e32ac=_0x469b7f;console[_0x4e32ac(0x155)]('Erreur\x20lors\x20de\x20la\x20récupération\x20de\x20l\x27ancienne\x20image:',_0x28c129),_0xb56c60[_0x4e32ac(0x129)]=_0x4e32ac(0x147);}):_0xb56c60[_0x469b7f(0x129)]=_0x469b7f(0x167);const _0x5b19d1=_0x1585ce[_0x469b7f(0xdd)]();_0x1f7cca[_0x469b7f(0xd6)]?storage['ref'](_0x1f7cca['image'])[_0x469b7f(0x8e)]()[_0x469b7f(0x106)](()=>{const _0x52cac2=_0x469b7f;return storage[_0x52cac2(0x93)](_0x1f7cca['image'])[_0x52cac2(0x165)]();})['then'](_0x1ddfa4=>{const _0x256414=_0x469b7f,_0x3e2e75=document[_0x256414(0x11b)](_0x256414(0x14a));_0x3e2e75[_0x256414(0xb5)]=_0x1ddfa4,_0x3e2e75['alt']=_0x256414(0x14f),_0x3e2e75['style']['maxWidth']=_0x256414(0x134),_0x3e2e75[_0x256414(0x12c)]['maxHeight']=_0x256414(0x134),_0x5b19d1[_0x256414(0x12f)](_0x3e2e75),_0x3e2e75[_0x256414(0xc9)](_0x256414(0xad),function(){openImageModal(_0x1ddfa4);});})[_0x469b7f(0xfb)](_0x5c1981=>{const _0x12d290=_0x469b7f;console[_0x12d290(0x155)](_0x12d290(0x99),_0x5c1981),_0x5b19d1[_0x12d290(0x129)]=_0x12d290(0x147);}):_0x5b19d1[_0x469b7f(0x129)]=_0x469b7f(0x167);const _0x44ff24=_0x1585ce[_0x469b7f(0xdd)]();if(window[_0x469b7f(0x136)]==='admin'){const _0x39cef4=document[_0x469b7f(0x11b)]('i');_0x39cef4[_0x469b7f(0x91)]=_0x469b7f(0xe7),_0x39cef4[_0x469b7f(0x13a)]('data-key',_0x357a8f),_0x39cef4['addEventListener']('click',openEditRetourForm),_0x44ff24[_0x469b7f(0x12f)](_0x39cef4);const _0x5a05f4=document[_0x469b7f(0x11b)]('i');_0x5a05f4['className']=_0x469b7f(0x115),_0x5a05f4[_0x469b7f(0x13a)](_0x469b7f(0x8f),_0x357a8f),_0x5a05f4[_0x469b7f(0xc9)](_0x469b7f(0xad),deleteData),_0x44ff24[_0x469b7f(0x12f)](_0x5a05f4);}}function markReservationAsPaid(_0x268048,_0x56b8f1){const _0x176bf0=_0x46a026;_0x56b8f1[_0x176bf0(0x12d)]='vente',database[_0x176bf0(0x93)]()[_0x176bf0(0x149)]()[_0x176bf0(0xd0)](_0x56b8f1)[_0x176bf0(0x106)](()=>database[_0x176bf0(0x93)]('reservations/'+_0x268048)[_0x176bf0(0x10a)]())['then'](()=>{const _0x5c5784=_0x176bf0;deleteRowFromTable(_0x268048,'reservationTable'),addRowToTable(_0x56b8f1,_0x268048,_0x5c5784(0xf3)),alert(_0x5c5784(0x157));})[_0x176bf0(0xfb)](_0x1e8bbf=>{const _0x1fce52=_0x176bf0;console['error'](_0x1fce52(0x112),_0x1e8bbf);});}function deleteRowFromTable(_0x28b40b,_0x2193fc){const _0x336ef9=_0x46a026,_0x18615c=document[_0x336ef9(0x117)]('#'+_0x2193fc+'\x20tr[data-key=\x22'+_0x28b40b+'\x22]');_0x18615c&&_0x18615c[_0x336ef9(0x10a)]();}function addMonthSeparator(_0x461764,_0x3b2fb3,_0x5700e8=![]){const _0x35ecbb=_0x46a026;if(currentMonth!==_0x3b2fb3){const _0x25ea9f=_0x461764[_0x35ecbb(0x109)](_0x5700e8?0x0:null),_0x2b3abd=_0x25ea9f[_0x35ecbb(0xdd)]();_0x2b3abd[_0x35ecbb(0x16a)]=_0x461764['rows'][0x0][_0x35ecbb(0x103)]['length'],_0x2b3abd['textContent']=_0x3b2fb3,_0x2b3abd[_0x35ecbb(0xb6)][_0x35ecbb(0xdb)](_0x35ecbb(0xc3)),currentMonth=_0x3b2fb3;}}function updateRowInTable(_0xd83ae6,_0x379e9a,_0x3904bd=_0x46a026(0xf3)){const _0x5c6271=_0x46a026,_0x481573=document['querySelector']('#'+_0x3904bd+_0x5c6271(0x10e)+_0x379e9a+'\x22]');if(_0x481573){_0x481573[_0x5c6271(0x103)][0x0][_0x5c6271(0x129)]=_0xd83ae6[_0x5c6271(0x100)];(_0x3904bd===_0x5c6271(0xf3)||_0x3904bd===_0x5c6271(0x156))&&(_0x481573['cells'][0x1][_0x5c6271(0x129)]=_0xd83ae6['saleType']);_0x481573['cells'][0x2][_0x5c6271(0x129)]=_0xd83ae6[_0x5c6271(0xca)],_0x481573[_0x5c6271(0x103)][0x3][_0x5c6271(0x129)]=_0xd83ae6[_0x5c6271(0xac)];let _0x426557=0x4;if(_0x3904bd==='reservationTable'){_0x426557=0x5;const _0x371ef1=_0xd83ae6[_0x5c6271(0x144)]-_0xd83ae6['advance'];_0x481573[_0x5c6271(0x103)][0x4][_0x5c6271(0x129)]=formatPrice(_0x371ef1);}_0x481573[_0x5c6271(0x103)][_0x426557][_0x5c6271(0x129)]=formatPrice(_0xd83ae6[_0x5c6271(0x144)]);let _0x33a366=0x5;_0x3904bd===_0x5c6271(0xc1)&&(_0x33a366=0x6,_0x481573['cells'][0x7][_0x5c6271(0x129)]=_0xd83ae6[_0x5c6271(0x154)]);if(_0xd83ae6[_0x5c6271(0xd6)]){const _0x3ae065=_0x481573['cells'][_0x33a366];_0x3ae065['innerHTML']='',storage[_0x5c6271(0x93)](_0xd83ae6[_0x5c6271(0xd6)])[_0x5c6271(0x8e)]()[_0x5c6271(0x106)](()=>{const _0x22c85c=_0x5c6271;return storage[_0x22c85c(0x93)](_0xd83ae6[_0x22c85c(0xd6)])['getDownloadURL']();})['then'](_0x48883e=>{const _0x533c60=_0x5c6271,_0xb3fadf=document[_0x533c60(0x11b)](_0x533c60(0x14a));_0xb3fadf[_0x533c60(0xb5)]=_0x48883e,_0xb3fadf[_0x533c60(0x158)]=_0x533c60(0x14d),_0xb3fadf[_0x533c60(0x12c)]['maxWidth']='100px',_0xb3fadf[_0x533c60(0x12c)][_0x533c60(0x153)]=_0x533c60(0x134),_0x3ae065[_0x533c60(0x12f)](_0xb3fadf),_0xb3fadf['addEventListener']('click',function(){openImageModal(_0x48883e);});})['catch'](_0x4191c9=>{const _0x81c2a9=_0x5c6271;console[_0x81c2a9(0x155)](_0x81c2a9(0xcc),_0x4191c9),_0x3ae065['textContent']=_0x81c2a9(0x147);});}if(_0x3904bd===_0x5c6271(0x156)&&_0xd83ae6[_0x5c6271(0x170)]){const _0x386aec=_0x481573[_0x5c6271(0x103)][0x5];_0x386aec[_0x5c6271(0x177)]='',storage['ref'](_0xd83ae6['ancienneImage'])[_0x5c6271(0x8e)]()[_0x5c6271(0x106)](()=>{const _0x19d030=_0x5c6271;return storage[_0x19d030(0x93)](_0xd83ae6[_0x19d030(0x170)])[_0x19d030(0x165)]();})[_0x5c6271(0x106)](_0xb3981b=>{const _0x8fe82f=_0x5c6271,_0x5a8ee5=document[_0x8fe82f(0x11b)]('img');_0x5a8ee5[_0x8fe82f(0xb5)]=_0xb3981b,_0x5a8ee5[_0x8fe82f(0x158)]=_0x8fe82f(0xa1),_0x5a8ee5['style'][_0x8fe82f(0x175)]=_0x8fe82f(0x134),_0x5a8ee5[_0x8fe82f(0x12c)][_0x8fe82f(0x153)]='100px',_0x386aec['appendChild'](_0x5a8ee5),_0x5a8ee5['addEventListener']('click',function(){openImageModal(_0xb3981b);});})[_0x5c6271(0xfb)](_0x530d3b=>{const _0x15642c=_0x5c6271;console['error'](_0x15642c(0x101),_0x530d3b),_0x386aec[_0x15642c(0x129)]=_0x15642c(0x147);});}if(_0x3904bd===_0x5c6271(0xc1)&&_0x481573[_0x5c6271(0x103)][_0x5c6271(0x118)]===0x9){const _0x16f929=_0x481573[_0x5c6271(0x103)][0x8],_0x2bb5f8=_0x16f929[_0x5c6271(0x117)]('button');if(!_0x2bb5f8){const _0x47c8cc=document['createElement'](_0x5c6271(0x14b));_0x47c8cc[_0x5c6271(0x129)]=_0x5c6271(0xd9),_0x47c8cc[_0x5c6271(0xc9)]('click',function(){openTrancheModal(_0x379e9a,_0xd83ae6);}),_0x16f929[_0x5c6271(0x12f)](_0x47c8cc);}}}}function openEditForm(_0x2ef12a){const _0x303cff=_0x46a026;if(window[_0x303cff(0x136)]==='admin'){const _0x55fcec=_0x2ef12a[_0x303cff(0x166)][_0x303cff(0xe4)]('tr'),_0x4d8dca=_0x55fcec[_0x303cff(0x143)]('data-key'),_0xd795f6=document[_0x303cff(0x82)]('editModal');_0xd795f6['style']['display']='block';let _0x5e06d5=database[_0x303cff(0x93)](_0x4d8dca),_0x5e89b1=_0x303cff(0xf3);const _0x5c4792=_0x55fcec[_0x303cff(0x103)][0x0][_0x303cff(0x129)],_0x1655e3=_0x55fcec['cells'][0x1]['textContent'],_0x5f2421=_0x55fcec[_0x303cff(0x103)][0x2][_0x303cff(0x129)],_0x9a7fba=_0x55fcec[_0x303cff(0x103)][0x3][_0x303cff(0x129)];let _0x19b941=_0x55fcec[_0x303cff(0x103)][0x4][_0x303cff(0x129)];_0x19b941=_0x19b941[_0x303cff(0xdf)](_0x303cff(0x173),'')[_0x303cff(0xdf)](/\s/g,''),_0x19b941=parseFloat(_0x19b941),document[_0x303cff(0x82)]('editDataKey')[_0x303cff(0x16f)]=_0x4d8dca,document['getElementById']('editDate')['value']=_0x5c4792,document[_0x303cff(0x82)]('editSaleType')['value']=_0x1655e3,document['getElementById'](_0x303cff(0x150))['value']=_0x5f2421,document[_0x303cff(0x82)](_0x303cff(0xec))['value']=_0x9a7fba,document['getElementById'](_0x303cff(0xc2))[_0x303cff(0x16f)]=_0x19b941,document[_0x303cff(0x82)](_0x303cff(0x128))['textContent']=formatPrice(_0x19b941),database['ref'](_0x303cff(0x94)+_0x4d8dca)[_0x303cff(0x16b)]('value')[_0x303cff(0x106)](_0x107b53=>{const _0x1e7e06=_0x303cff;if(_0x107b53[_0x1e7e06(0xf4)]())_0x5e06d5=database[_0x1e7e06(0x93)](_0x1e7e06(0x94)+_0x4d8dca),_0x5e89b1='reservationTable';else return database[_0x1e7e06(0x93)](_0x1e7e06(0xde)+_0x4d8dca)['once']('value')[_0x1e7e06(0x106)](_0x17c8be=>{const _0xafbdea=_0x1e7e06;_0x17c8be['exists']()&&(_0x5e06d5=database[_0xafbdea(0x93)](_0xafbdea(0xde)+_0x4d8dca),_0x5e89b1=_0xafbdea(0x156));});return _0x5e06d5[_0x1e7e06(0x16b)](_0x1e7e06(0x16f));})[_0x303cff(0x106)](_0x4ef21=>{const _0x10194f=_0x303cff,_0x5379c4=_0x4ef21['val']();if(_0x1655e3===_0x10194f(0xf9))document[_0x10194f(0x82)](_0x10194f(0x12b))['value']=_0x5379c4[_0x10194f(0x125)],document['getElementById'](_0x10194f(0xe9))[_0x10194f(0x129)]=formatPrice(_0x5379c4[_0x10194f(0x125)]),document['getElementById'](_0x10194f(0x107))[_0x10194f(0x16f)]=_0x5379c4[_0x10194f(0x154)],toggleAdvanceField(_0x10194f(0x126));else _0x1655e3===_0x10194f(0x130)?(document[_0x10194f(0x82)](_0x10194f(0x96))['value']=_0x5379c4['montantAjoute'],document[_0x10194f(0x82)](_0x10194f(0x116))[_0x10194f(0x129)]=formatPrice(_0x5379c4[_0x10194f(0x98)]),toggleAdvanceField('editAdvanceField')):(document[_0x10194f(0x82)](_0x10194f(0x126))[_0x10194f(0x12c)][_0x10194f(0x119)]=_0x10194f(0x111),document[_0x10194f(0x82)](_0x10194f(0xa4))[_0x10194f(0x12c)][_0x10194f(0x119)]=_0x10194f(0x111));}),document[_0x303cff(0x82)](_0x303cff(0x8c))[_0x303cff(0xc9)](_0x303cff(0xcf),function(_0x2b6d75){const _0x42e81b=_0x303cff;_0x2b6d75[_0x42e81b(0xed)]();const _0x108f04={'date':document[_0x42e81b(0x82)](_0x42e81b(0x152))[_0x42e81b(0x16f)],'saleType':document[_0x42e81b(0x82)](_0x42e81b(0x108))[_0x42e81b(0x16f)],'quantity':document[_0x42e81b(0x82)](_0x42e81b(0x150))[_0x42e81b(0x16f)],'designation':document[_0x42e81b(0x82)](_0x42e81b(0xec))[_0x42e81b(0x16f)],'price':parseFloat(document[_0x42e81b(0x82)](_0x42e81b(0xc2))[_0x42e81b(0x16f)]),'advance':document[_0x42e81b(0x82)](_0x42e81b(0x108))[_0x42e81b(0x16f)]===_0x42e81b(0xf9)?parseFloat(document[_0x42e81b(0x82)](_0x42e81b(0x12b))['value']):0x0,'telephone':document[_0x42e81b(0x82)](_0x42e81b(0x108))['value']==='reservation'?document[_0x42e81b(0x82)](_0x42e81b(0x107))[_0x42e81b(0x16f)]:'','montantAjoute':document[_0x42e81b(0x82)](_0x42e81b(0x108))['value']===_0x42e81b(0x130)?parseFloat(document[_0x42e81b(0x82)](_0x42e81b(0x96))[_0x42e81b(0x16f)]):0x0};let _0x1254f3=database[_0x42e81b(0x93)](_0x4d8dca);if(_0x108f04[_0x42e81b(0x12d)]===_0x42e81b(0xf9)&&_0x1655e3!==_0x42e81b(0xf9))_0x1254f3=database[_0x42e81b(0x93)](_0x42e81b(0x13c))[_0x42e81b(0x149)](),database[_0x42e81b(0x93)](_0x4d8dca)[_0x42e81b(0x10a)]();else{if(_0x108f04['saleType']===_0x42e81b(0x130)&&_0x1655e3!==_0x42e81b(0x130))_0x1254f3=database[_0x42e81b(0x93)]('retours')[_0x42e81b(0x149)](),database[_0x42e81b(0x93)](_0x4d8dca)[_0x42e81b(0x10a)]();else{if(_0x108f04[_0x42e81b(0x12d)]!==_0x42e81b(0xf9)&&_0x1655e3==='reservation')_0x1254f3=database[_0x42e81b(0x93)]()[_0x42e81b(0x149)](),database[_0x42e81b(0x93)](_0x42e81b(0x94)+_0x4d8dca)[_0x42e81b(0x10a)]();else _0x108f04[_0x42e81b(0x12d)]!=='retour'&&_0x1655e3===_0x42e81b(0x130)&&(_0x1254f3=database[_0x42e81b(0x93)]()[_0x42e81b(0x149)](),database['ref'](_0x42e81b(0xde)+_0x4d8dca)[_0x42e81b(0x10a)]());}}_0x1254f3[_0x42e81b(0x8b)](_0x108f04)[_0x42e81b(0x106)](()=>{const _0x20cc60=_0x42e81b,_0x3fb635=document[_0x20cc60(0x82)](_0x20cc60(0x137))[_0x20cc60(0x86)][0x0],_0x1d719a=document['getElementById']('editSaleType')[_0x20cc60(0x16f)]===_0x20cc60(0x130)?document[_0x20cc60(0x82)](_0x20cc60(0xbf))[_0x20cc60(0x86)][0x0]:null,_0x4edf2d=[];if(_0x3fb635){const _0x183e1c=storage['ref']()['child'](_0x20cc60(0x12a)+_0x1254f3[_0x20cc60(0x163)]+_0x20cc60(0xd2));_0x4edf2d[_0x20cc60(0x149)](_0x183e1c['put'](_0x3fb635)[_0x20cc60(0x106)](_0x159743=>{const _0xa122a3=_0x20cc60;return _0x1254f3[_0xa122a3(0x8b)]({'image':_0x159743[_0xa122a3(0x93)][_0xa122a3(0x11c)]});}));}if(_0x1d719a){const _0x20cca4=storage[_0x20cc60(0x93)]()['child'](_0x20cc60(0x12a)+_0x1254f3[_0x20cc60(0x163)]+_0x20cc60(0x121));_0x4edf2d[_0x20cc60(0x149)](_0x20cca4[_0x20cc60(0xc7)](_0x1d719a)[_0x20cc60(0x106)](_0x33f50e=>{const _0x24216f=_0x20cc60;return _0x1254f3['update']({'ancienneImage':_0x33f50e['ref'][_0x24216f(0x11c)]});}));}return Promise[_0x20cc60(0x90)](_0x4edf2d);})[_0x42e81b(0x106)](()=>{const _0x227599=_0x42e81b;closeModal(_0x227599(0xbc)),alert(_0x227599(0xe8)),clearTable(),loadDataFromDatabase();const _0x400e65=_0x108f04['saleType']===_0x227599(0xf9)?_0x227599(0xf7):_0x108f04[_0x227599(0x12d)]==='retour'?_0x227599(0xef):'tableContainer';document['getElementById'](_0x400e65)['style'][_0x227599(0x119)]=_0x227599(0x9c);const _0x5540b9=[_0x227599(0xd7),_0x227599(0xf7),_0x227599(0xef)][_0x227599(0x141)](_0x477bc8=>_0x477bc8!==_0x400e65);_0x5540b9[_0x227599(0x16c)](_0x512a8a=>document[_0x227599(0x82)](_0x512a8a)[_0x227599(0x12c)][_0x227599(0x119)]=_0x227599(0x111)),document[_0x227599(0x82)](_0x400e65)[_0x227599(0x15a)]({'behavior':_0x227599(0xb3)});})['catch'](_0x229230=>{const _0x189e7a=_0x42e81b;console[_0x189e7a(0x155)](_0x189e7a(0x169),_0x229230);});});}else alert(_0x303cff(0x13e));}function openEditReservationForm(_0x3e92a0){const _0x515852=_0x46a026;if(window[_0x515852(0x136)]===_0x515852(0xe6)){const _0x5a0f34=_0x3e92a0[_0x515852(0x166)][_0x515852(0xe4)]('tr'),_0x3d2e96=_0x5a0f34[_0x515852(0x143)](_0x515852(0x8f)),_0x321ce6=document[_0x515852(0x82)](_0x515852(0xf5));_0x321ce6[_0x515852(0x12c)][_0x515852(0x119)]=_0x515852(0x9c);const _0x2d2c2c=_0x5a0f34[_0x515852(0x103)][0x0][_0x515852(0x129)],_0x4efd45=_0x5a0f34['cells'][0x1][_0x515852(0x129)],_0x3ab31e=_0x5a0f34[_0x515852(0x103)][0x2]['textContent'];let _0x5ee6fe=_0x5a0f34[_0x515852(0x103)][0x3][_0x515852(0x129)],_0x51e1e7=_0x5a0f34[_0x515852(0x103)][0x5][_0x515852(0x129)];const _0x20a349=_0x5a0f34[_0x515852(0x103)][0x7]['textContent'];_0x51e1e7=_0x51e1e7['replace'](_0x515852(0x173),'')[_0x515852(0xdf)](/\s/g,''),_0x5ee6fe=_0x5ee6fe[_0x515852(0xdf)](_0x515852(0x173),'')['replace'](/\s/g,''),_0x51e1e7=parseFloat(_0x51e1e7),_0x5ee6fe=parseFloat(_0x5ee6fe),document[_0x515852(0x82)](_0x515852(0xc5))['value']=_0x3d2e96,document['getElementById']('editReservationDate')['value']=_0x2d2c2c,document['getElementById']('editReservationQuantity')[_0x515852(0x16f)]=_0x3ab31e,document[_0x515852(0x82)](_0x515852(0x104))['value']=_0x51e1e7,document[_0x515852(0x82)]('editReservationFormattedPrice')[_0x515852(0x129)]=formatPrice(_0x51e1e7),document[_0x515852(0x82)](_0x515852(0x110))['value']=_0x4efd45,document[_0x515852(0x82)]('editReservationAdvanceAmount')[_0x515852(0x16f)]=_0x5ee6fe,document[_0x515852(0x82)]('editReservationFormattedAdvance')[_0x515852(0x129)]=formatPrice(_0x5ee6fe),document['getElementById'](_0x515852(0xa8))[_0x515852(0x16f)]=_0x20a349,document['getElementById']('editReservationForm')[_0x515852(0xc9)](_0x515852(0xcf),function(_0x169f20){const _0x527d9c=_0x515852;_0x169f20['preventDefault']();const _0x2f0af7=document[_0x527d9c(0x82)](_0x527d9c(0xc5))[_0x527d9c(0x16f)],_0x399a5d=document[_0x527d9c(0x82)](_0x527d9c(0xa0))[_0x527d9c(0x16f)],_0x375726=document[_0x527d9c(0x82)]('editReservationQuantity')[_0x527d9c(0x16f)],_0x14f191=parseFloat(document['getElementById'](_0x527d9c(0x104))[_0x527d9c(0x16f)][_0x527d9c(0xdf)](/\sF CFA$/,'')[_0x527d9c(0xdf)](/\s/g,'')),_0x3c7588=document[_0x527d9c(0x82)](_0x527d9c(0x110))[_0x527d9c(0x16f)],_0x51a07c=parseFloat(document[_0x527d9c(0x82)]('editReservationAdvanceAmount')[_0x527d9c(0x16f)]),_0xb593b6=document[_0x527d9c(0x82)](_0x527d9c(0xa8))[_0x527d9c(0x16f)],_0x1f53a5=document[_0x527d9c(0x82)](_0x527d9c(0x102))[_0x527d9c(0x86)][0x0],_0x1849f4={'date':_0x399a5d,'saleType':_0x527d9c(0xf9),'quantity':_0x375726,'designation':_0x3c7588,'price':_0x14f191,'advance':_0x51a07c,'telephone':_0xb593b6};database[_0x527d9c(0x93)](_0x527d9c(0x94)+_0x2f0af7)[_0x527d9c(0x8b)](_0x1849f4)[_0x527d9c(0x106)](()=>{const _0x5e432c=_0x527d9c;if(_0x1f53a5){const _0x269978=storage[_0x5e432c(0x93)]()['child'](_0x5e432c(0x12a)+_0x2f0af7+_0x5e432c(0xd2));return _0x269978[_0x5e432c(0xc7)](_0x1f53a5)['then'](_0x9eadd9=>{const _0x463402=_0x5e432c;return database[_0x463402(0x93)](_0x463402(0x94)+_0x2f0af7)['update']({'image':_0x9eadd9['ref'][_0x463402(0x11c)]});});}})[_0x527d9c(0x106)](()=>{const _0x249118=_0x527d9c;closeModal(_0x249118(0xf5)),alert(_0x249118(0x15c)),clearTable(),loadDataFromDatabase(),document['getElementById'](_0x249118(0xf7))[_0x249118(0x12c)]['display']=_0x249118(0x9c);const _0x958f9b=[_0x249118(0xd7),_0x249118(0xef)];_0x958f9b[_0x249118(0x16c)](_0x61b6e9=>document[_0x249118(0x82)](_0x61b6e9)['style'][_0x249118(0x119)]=_0x249118(0x111)),document[_0x249118(0x82)](_0x249118(0xf7))[_0x249118(0x15a)]({'behavior':_0x249118(0xb3)});})[_0x527d9c(0xfb)](_0x44e403=>{const _0x1571d8=_0x527d9c;console[_0x1571d8(0x155)]('Erreur\x20lors\x20de\x20la\x20mise\x20à\x20jour\x20des\x20données\x20de\x20la\x20réservation\x20:',_0x44e403);});});}else alert('Vous\x20n\x27êtes\x20pas\x20autorisé\x20à\x20modifier\x20les\x20données.');}function openEditRetourForm(_0x178fe8){const _0x5e692d=_0x46a026;if(window[_0x5e692d(0x136)]===_0x5e692d(0xe6)){const _0x3499d1=_0x178fe8['target']['closest']('tr'),_0x354fe6=_0x3499d1[_0x5e692d(0x143)](_0x5e692d(0x8f)),_0x35497b=document[_0x5e692d(0x82)](_0x5e692d(0xb1));_0x35497b[_0x5e692d(0x12c)][_0x5e692d(0x119)]=_0x5e692d(0x9c);const _0x50ab1c=_0x3499d1[_0x5e692d(0x103)][0x0][_0x5e692d(0x129)],_0x456c0a=_0x3499d1['cells'][0x1][_0x5e692d(0x129)],_0x37dfec=_0x3499d1[_0x5e692d(0x103)][0x2][_0x5e692d(0x129)];let _0x24cd61=_0x3499d1['cells'][0x3][_0x5e692d(0x129)],_0x2bd0c0=_0x3499d1[_0x5e692d(0x103)][0x4]['textContent'];_0x2bd0c0=_0x2bd0c0[_0x5e692d(0xdf)](_0x5e692d(0x173),'')['replace'](/\s/g,''),_0x24cd61=_0x24cd61[_0x5e692d(0xdf)]('\x20F\x20CFA','')[_0x5e692d(0xdf)](/\s/g,''),_0x2bd0c0=parseFloat(_0x2bd0c0),_0x24cd61=parseFloat(_0x24cd61),document['getElementById'](_0x5e692d(0xc8))['value']=_0x354fe6,document[_0x5e692d(0x82)]('editRetourDate')[_0x5e692d(0x16f)]=_0x50ab1c,document[_0x5e692d(0x82)](_0x5e692d(0x138))[_0x5e692d(0x16f)]=_0x37dfec,document[_0x5e692d(0x82)](_0x5e692d(0xbd))[_0x5e692d(0x16f)]=_0x2bd0c0,document[_0x5e692d(0x82)](_0x5e692d(0x139))[_0x5e692d(0x129)]=formatPrice(_0x2bd0c0),document[_0x5e692d(0x82)](_0x5e692d(0x15f))[_0x5e692d(0x16f)]=_0x456c0a,document[_0x5e692d(0x82)](_0x5e692d(0xfe))[_0x5e692d(0x16f)]=_0x24cd61,document[_0x5e692d(0x82)](_0x5e692d(0xf2))[_0x5e692d(0x129)]=formatPrice(_0x24cd61),document[_0x5e692d(0x82)](_0x5e692d(0x13d))['addEventListener'](_0x5e692d(0xcf),function(_0x3c205d){const _0x1cae41=_0x5e692d;_0x3c205d[_0x1cae41(0xed)]();const _0x46a321=document[_0x1cae41(0x82)](_0x1cae41(0xc8))[_0x1cae41(0x16f)],_0x361b41=document['getElementById'](_0x1cae41(0xa9))[_0x1cae41(0x16f)],_0x35f2d8=document[_0x1cae41(0x82)]('editRetourQuantity')['value'],_0x56f22d=parseFloat(document['getElementById'](_0x1cae41(0xbd))[_0x1cae41(0x16f)]['replace'](/\sF CFA$/,'')[_0x1cae41(0xdf)](/\s/g,'')),_0x3b153a=document[_0x1cae41(0x82)](_0x1cae41(0x15f))['value'],_0x1593d9=parseFloat(document[_0x1cae41(0x82)]('editRetourMontantAjoute')[_0x1cae41(0x16f)]),_0x2b5b11=document['getElementById'](_0x1cae41(0xa5))[_0x1cae41(0x86)][0x0],_0x434ea3=document[_0x1cae41(0x82)](_0x1cae41(0x11a))[_0x1cae41(0x86)][0x0],_0x39337b={'date':_0x361b41,'saleType':'retour','quantity':_0x35f2d8,'designation':_0x3b153a,'price':_0x56f22d,'montantAjoute':_0x1593d9};database['ref'](_0x1cae41(0xde)+_0x46a321)[_0x1cae41(0x8b)](_0x39337b)[_0x1cae41(0x106)](()=>{const _0x74e707=_0x1cae41;if(_0x2b5b11&&_0x434ea3){const _0x5771a0=storage[_0x74e707(0x93)]()['child'](_0x74e707(0x12a)+_0x46a321+_0x74e707(0xee)),_0x427010=storage[_0x74e707(0x93)]()[_0x74e707(0xce)]('images/'+_0x46a321+_0x74e707(0x121));return Promise[_0x74e707(0x90)]([_0x5771a0[_0x74e707(0xc7)](_0x2b5b11),_0x427010[_0x74e707(0xc7)](_0x434ea3)])[_0x74e707(0x106)](([_0x22f2f1,_0x12ae9b])=>{const _0x4e6a14=_0x74e707;return database[_0x4e6a14(0x93)]('retours/'+_0x46a321)[_0x4e6a14(0x8b)]({'image':_0x22f2f1[_0x4e6a14(0x93)][_0x4e6a14(0x11c)],'ancienneImage':_0x12ae9b[_0x4e6a14(0x93)][_0x4e6a14(0x11c)]});});}else{if(_0x2b5b11){const _0x35afad=storage[_0x74e707(0x93)]()[_0x74e707(0xce)]('images/'+_0x46a321+_0x74e707(0xee));return _0x35afad[_0x74e707(0xc7)](_0x2b5b11)[_0x74e707(0x106)](_0x484509=>{const _0x18108c=_0x74e707;return database[_0x18108c(0x93)](_0x18108c(0xde)+_0x46a321)['update']({'image':_0x484509[_0x18108c(0x93)][_0x18108c(0x11c)]});});}else{if(_0x434ea3){const _0x547fc7=storage[_0x74e707(0x93)]()[_0x74e707(0xce)](_0x74e707(0x12a)+_0x46a321+_0x74e707(0x121));return _0x547fc7[_0x74e707(0xc7)](_0x434ea3)[_0x74e707(0x106)](_0x2c681e=>{const _0x2289b7=_0x74e707;return database['ref']('retours/'+_0x46a321)[_0x2289b7(0x8b)]({'ancienneImage':ancienneSnapshot[_0x2289b7(0x93)]['fullPath']});});}}}})[_0x1cae41(0x106)](()=>{const _0x1b88a4=_0x1cae41;closeModal(_0x1b88a4(0xb1)),alert(_0x1b88a4(0x135)),clearTable(),loadDataFromDatabase(),document['getElementById']('retoursContainer')[_0x1b88a4(0x12c)][_0x1b88a4(0x119)]='block';const _0x17d28f=[_0x1b88a4(0xd7),_0x1b88a4(0xf7)];_0x17d28f[_0x1b88a4(0x16c)](_0xdd13fd=>document[_0x1b88a4(0x82)](_0xdd13fd)[_0x1b88a4(0x12c)][_0x1b88a4(0x119)]=_0x1b88a4(0x111)),document['getElementById']('retoursContainer')['scrollIntoView']({'behavior':_0x1b88a4(0xb3)});})[_0x1cae41(0xfb)](_0x32b664=>{const _0x4bffe0=_0x1cae41;console['error'](_0x4bffe0(0xb0),_0x32b664);});});}else alert(_0x5e692d(0x13e));}function deleteData(_0x35bcbe){const _0x2d904a=_0x46a026;if(window[_0x2d904a(0x136)]==='admin'){const _0x18361d=_0x35bcbe[_0x2d904a(0x166)][_0x2d904a(0x143)]('data-key'),_0x4ffc0f=_0x35bcbe['target']['closest']('tr'),_0x51a321=_0x4ffc0f[_0x2d904a(0xd1)][_0x2d904a(0xd1)]['id'];if(confirm(_0x2d904a(0x12e))){let _0x3fd2b4=database[_0x2d904a(0x93)](_0x18361d);if(_0x51a321===_0x2d904a(0xc1))_0x3fd2b4=database[_0x2d904a(0x93)](_0x2d904a(0x94)+_0x18361d);else _0x51a321===_0x2d904a(0x156)&&(_0x3fd2b4=database[_0x2d904a(0x93)](_0x2d904a(0xde)+_0x18361d));_0x3fd2b4['remove']()[_0x2d904a(0x106)](()=>{const _0x5aebda=_0x2d904a,_0x2fd5b9=storage[_0x5aebda(0x93)](_0x5aebda(0x12a)+_0x18361d+'.jpg');return _0x2fd5b9[_0x5aebda(0x142)]()[_0x5aebda(0xfb)](_0xf4848f=>{const _0x3f90aa=_0x5aebda;if(_0xf4848f[_0x3f90aa(0x105)]!=='storage/object-not-found')throw _0xf4848f;});})[_0x2d904a(0x106)](()=>{const _0x57bf7c=_0x2d904a;alert(_0x57bf7c(0xab)),_0x4ffc0f[_0x57bf7c(0x10a)]();})[_0x2d904a(0xfb)](_0x318056=>{const _0x1f9663=_0x2d904a;console[_0x1f9663(0x155)](_0x1f9663(0x11f),_0x318056);});}}else alert(_0x2d904a(0xb9));}function toggleTable(){const _0x5c0624=_0x46a026,_0x4d88c3=document[_0x5c0624(0x82)](_0x5c0624(0xd7));_0x4d88c3[_0x5c0624(0x12c)][_0x5c0624(0x119)]=_0x4d88c3[_0x5c0624(0x12c)][_0x5c0624(0x119)]===_0x5c0624(0x111)?_0x5c0624(0x9c):_0x5c0624(0x111),document[_0x5c0624(0x82)]('reservationsContainer')[_0x5c0624(0x12c)][_0x5c0624(0x119)]=_0x5c0624(0x111),document['getElementById']('retoursContainer')[_0x5c0624(0x12c)][_0x5c0624(0x119)]=_0x5c0624(0x111);}function toggleReservationsTable(){const _0x5b3c49=_0x46a026,_0x39d64a=document['getElementById'](_0x5b3c49(0xf7));_0x39d64a['style'][_0x5b3c49(0x119)]=_0x39d64a[_0x5b3c49(0x12c)][_0x5b3c49(0x119)]===_0x5b3c49(0x111)?_0x5b3c49(0x9c):_0x5b3c49(0x111),document[_0x5b3c49(0x82)]('tableContainer')[_0x5b3c49(0x12c)]['display']='none',document[_0x5b3c49(0x82)](_0x5b3c49(0xef))[_0x5b3c49(0x12c)]['display']=_0x5b3c49(0x111);}function toggleRetoursTable(){const _0x35f9d3=_0x46a026,_0x2960ee=document['getElementById'](_0x35f9d3(0xef));_0x2960ee[_0x35f9d3(0x12c)][_0x35f9d3(0x119)]=_0x2960ee[_0x35f9d3(0x12c)][_0x35f9d3(0x119)]===_0x35f9d3(0x111)?_0x35f9d3(0x9c):_0x35f9d3(0x111),document[_0x35f9d3(0x82)](_0x35f9d3(0xd7))[_0x35f9d3(0x12c)][_0x35f9d3(0x119)]=_0x35f9d3(0x111),document[_0x35f9d3(0x82)]('reservationsContainer')[_0x35f9d3(0x12c)]['display']='none';}document[_0x46a026(0x82)](_0x46a026(0x151))[_0x46a026(0xc9)](_0x46a026(0xad),function(){const _0x1cbf9e=_0x46a026;toggleTable(),clearTable(),loadDataFromDatabase(),document[_0x1cbf9e(0x82)](_0x1cbf9e(0xd7))[_0x1cbf9e(0x15a)]({'behavior':_0x1cbf9e(0xb3),'block':'start'});}),document[_0x46a026(0x82)](_0x46a026(0x161))[_0x46a026(0xc9)](_0x46a026(0xad),function(){const _0x40a73f=_0x46a026;toggleReservationsTable(),clearTable(),loadDataFromDatabase(),document[_0x40a73f(0x82)]('reservationsContainer')[_0x40a73f(0x15a)]({'behavior':_0x40a73f(0xb3),'block':_0x40a73f(0xbe)});}),document[_0x46a026(0x82)](_0x46a026(0x16e))[_0x46a026(0xc9)]('click',function(){const _0x3e864a=_0x46a026;toggleRetoursTable(),clearTable(),loadDataFromDatabase(),document[_0x3e864a(0x82)](_0x3e864a(0xef))[_0x3e864a(0x15a)]({'behavior':_0x3e864a(0xb3),'block':_0x3e864a(0xbe)});});function closeModal(_0x3a8fe1){const _0x49faad=_0x46a026,_0x3082ba=document[_0x49faad(0x82)](_0x3a8fe1);_0x3082ba['style'][_0x49faad(0x119)]='none';if(_0x3a8fe1===_0x49faad(0x88))document['getElementById'](_0x49faad(0xfd))[_0x49faad(0xaf)](),document[_0x49faad(0x82)](_0x49faad(0xff))[_0x49faad(0x129)]=_0x49faad(0x173);else{if(_0x3a8fe1==='editModal')document[_0x49faad(0x82)](_0x49faad(0x8c))[_0x49faad(0xaf)](),document[_0x49faad(0x82)](_0x49faad(0x128))[_0x49faad(0x129)]=_0x49faad(0x173),document[_0x49faad(0x82)](_0x49faad(0xe9))[_0x49faad(0x129)]='\x20F\x20CFA',document[_0x49faad(0x82)](_0x49faad(0x116))[_0x49faad(0x129)]=_0x49faad(0x173);else{if(_0x3a8fe1===_0x49faad(0x127))document[_0x49faad(0x82)](_0x49faad(0x164))[_0x49faad(0xaf)](),document[_0x49faad(0x82)](_0x49faad(0xeb))['textContent']='\x20F\x20CFA';else{if(_0x3a8fe1===_0x49faad(0xf5))document[_0x49faad(0x82)](_0x49faad(0x11e))[_0x49faad(0xaf)](),document[_0x49faad(0x82)](_0x49faad(0xf0))[_0x49faad(0x129)]=_0x49faad(0x173),document['getElementById'](_0x49faad(0x140))[_0x49faad(0x129)]='\x20F\x20CFA';else _0x3a8fe1===_0x49faad(0xb1)&&(document['getElementById'](_0x49faad(0x13d))[_0x49faad(0xaf)](),document['getElementById'](_0x49faad(0x139))[_0x49faad(0x129)]='\x20F\x20CFA',document[_0x49faad(0x82)]('editRetourFormattedMontantAjoute')['textContent']=_0x49faad(0x173));}}}}function clearTable(){const _0x1af3c0=_0x46a026,_0x71873b=document[_0x1af3c0(0x82)](_0x1af3c0(0xf3))['getElementsByTagName'](_0x1af3c0(0x10b))[0x0];_0x71873b[_0x1af3c0(0x177)]='';const _0x189d73=document[_0x1af3c0(0x82)](_0x1af3c0(0xc1))[_0x1af3c0(0x15b)](_0x1af3c0(0x10b))[0x0];_0x189d73[_0x1af3c0(0x177)]='';const _0xcdc598=document[_0x1af3c0(0x82)](_0x1af3c0(0x156))[_0x1af3c0(0x15b)](_0x1af3c0(0x10b))[0x0];_0xcdc598['innerHTML']='',currentMonth=null;}function openImageModal(_0x3752cc){const _0x177f16=_0x46a026,_0x587552=document[_0x177f16(0x11b)](_0x177f16(0xb8));_0x587552['classList'][_0x177f16(0xdb)](_0x177f16(0x114));const _0x3abc3c=document[_0x177f16(0x11b)]('img');_0x3abc3c['src']=_0x3752cc,_0x3abc3c[_0x177f16(0x158)]=_0x177f16(0xd3),_0x587552[_0x177f16(0xc9)](_0x177f16(0xad),function(_0x5213ce){const _0x3b7dfe=_0x177f16;_0x5213ce[_0x3b7dfe(0x166)]===_0x587552&&document[_0x3b7dfe(0xd4)][_0x3b7dfe(0x89)](_0x587552);});const _0x55102f=document[_0x177f16(0x11b)](_0x177f16(0x171));_0x55102f[_0x177f16(0xb6)][_0x177f16(0xdb)](_0x177f16(0xf8)),_0x55102f['textContent']='×',_0x55102f[_0x177f16(0xc9)]('click',function(){const _0x34fb46=_0x177f16;document[_0x34fb46(0xd4)][_0x34fb46(0x89)](_0x587552);}),_0x587552[_0x177f16(0x12f)](_0x3abc3c),_0x587552[_0x177f16(0x12f)](_0x55102f),document['body'][_0x177f16(0x12f)](_0x587552);}function openTrancheModal(_0x689bfd,_0x12a697){const _0x5964cf=_0x46a026,_0x4bf205=document['getElementById']('trancheModal');_0x4bf205[_0x5964cf(0x12c)][_0x5964cf(0x119)]='block',document[_0x5964cf(0x82)]('trancheModalDesignation')['textContent']=_0x12a697[_0x5964cf(0xac)],document['getElementById']('trancheModalQuantity')[_0x5964cf(0x129)]=_0x12a697[_0x5964cf(0xca)],document[_0x5964cf(0x82)](_0x5964cf(0x172))[_0x5964cf(0x129)]=formatPrice(_0x12a697[_0x5964cf(0x144)]),document['getElementById'](_0x5964cf(0xc6))[_0x5964cf(0x129)]=formatPrice(_0x12a697['advance']),document[_0x5964cf(0x82)](_0x5964cf(0xb7))[_0x5964cf(0xc9)](_0x5964cf(0x85),function(){const _0x51f55f=_0x5964cf,_0x5b7327=parseFloat(this[_0x51f55f(0x16f)]);!isNaN(_0x5b7327)?document['getElementById'](_0x51f55f(0xeb))[_0x51f55f(0x129)]=formatPrice(_0x5b7327):document[_0x51f55f(0x82)]('formattedTrancheAmount')['textContent']=_0x51f55f(0x173);}),document[_0x5964cf(0x82)]('trancheForm')['addEventListener'](_0x5964cf(0xcf),function(_0x42a5b4){const _0x369f5c=_0x5964cf;_0x42a5b4[_0x369f5c(0xed)](),payerTranche(_0x689bfd,_0x12a697);});}function payerTranche(_0x285f0a,_0x3f017b){const _0x48fadb=_0x46a026,_0x5729c7=parseFloat(document['getElementById'](_0x48fadb(0xb7))[_0x48fadb(0x16f)]);if(isNaN(_0x5729c7)){alert('Veuillez\x20saisir\x20un\x20montant\x20valide\x20pour\x20la\x20tranche.');return;}const _0x2ad288=_0x3f017b[_0x48fadb(0x125)]+_0x5729c7;database[_0x48fadb(0x93)](_0x48fadb(0x94)+_0x285f0a)[_0x48fadb(0x8b)]({'advance':_0x2ad288})['then'](()=>{const _0xd3b72d=_0x48fadb;closeModal(_0xd3b72d(0x127)),clearTable(),loadDataFromDatabase(),alert(_0xd3b72d(0x113)+formatPrice(_0x2ad288)),document[_0xd3b72d(0x82)]('reservationsContainer')[_0xd3b72d(0x12c)]['display']='block';const _0x29b9f4=[_0xd3b72d(0xd7),'retoursContainer'];_0x29b9f4['forEach'](_0x133c2f=>document[_0xd3b72d(0x82)](_0x133c2f)[_0xd3b72d(0x12c)][_0xd3b72d(0x119)]=_0xd3b72d(0x111)),document[_0xd3b72d(0x82)]('reservationsContainer')[_0xd3b72d(0x15a)]({'behavior':_0xd3b72d(0xb3)});})[_0x48fadb(0xfb)](_0x205cae=>{const _0x3ec5db=_0x48fadb;console[_0x3ec5db(0x155)](_0x3ec5db(0xcd),_0x205cae);});}function payerTotal(){const _0x537a1b=_0x46a026;if(!selectedReservationKey){alert('Veuillez\x20sélectionner\x20une\x20réservation\x20dans\x20le\x20tableau.');return;}database[_0x537a1b(0x93)](_0x537a1b(0x94)+selectedReservationKey)[_0x537a1b(0x16b)](_0x537a1b(0x16f))[_0x537a1b(0x106)](_0x34837e=>{const _0x5e51c5=_0x537a1b,_0x272dc=_0x34837e[_0x5e51c5(0x13b)]();return _0x272dc['saleType']=_0x5e51c5(0x8d),database[_0x5e51c5(0x93)]()[_0x5e51c5(0x149)]()['set'](_0x272dc);})['then'](()=>database[_0x537a1b(0x93)]('reservations/'+selectedReservationKey)['remove']())[_0x537a1b(0x106)](()=>{const _0x269b07=_0x537a1b;closeModal(_0x269b07(0x127)),clearTable(),loadDataFromDatabase(),alert(_0x269b07(0xf1)),selectedReservationKey=null,document[_0x269b07(0x82)](_0x269b07(0xd7))[_0x269b07(0x12c)][_0x269b07(0x119)]='block';const _0x39667d=['reservationsContainer','retoursContainer'];_0x39667d[_0x269b07(0x16c)](_0x9dbd49=>document[_0x269b07(0x82)](_0x9dbd49)[_0x269b07(0x12c)][_0x269b07(0x119)]=_0x269b07(0x111)),document[_0x269b07(0x82)](_0x269b07(0xd7))[_0x269b07(0x15a)]({'behavior':_0x269b07(0xb3)});})[_0x537a1b(0xfb)](_0x56f9ce=>{const _0x51ea79=_0x537a1b;console['error'](_0x51ea79(0x133),_0x56f9ce);});}function addMonthSeparator(_0x553d3f,_0x13309b,_0x54da45=![]){const _0x59989c=_0x46a026;if(currentMonth!==_0x13309b){const _0x15aaf7=_0x553d3f[_0x59989c(0x109)](_0x54da45?0x0:null),_0x3602c7=_0x15aaf7['insertCell']();_0x3602c7[_0x59989c(0x16a)]=_0x553d3f[_0x59989c(0x168)][0x0]['cells'][_0x59989c(0x118)],_0x3602c7[_0x59989c(0x129)]=_0x13309b,_0x3602c7[_0x59989c(0xb6)]['add'](_0x59989c(0xc3)),currentMonth=_0x13309b;}}document['getElementById'](_0x46a026(0x144))[_0x46a026(0xc9)](_0x46a026(0x85),function(){const _0x169e68=_0x46a026,_0x40bba9=this,_0x32da06=parseFloat(_0x40bba9[_0x169e68(0x16f)]);!isNaN(_0x32da06)?document[_0x169e68(0x82)]('formattedPrice')[_0x169e68(0x129)]=formatPrice(_0x32da06):document[_0x169e68(0x82)](_0x169e68(0x11d))[_0x169e68(0x129)]=_0x169e68(0x173);}),document['getElementById'](_0x46a026(0x15d))[_0x46a026(0xc9)](_0x46a026(0x85),function(){const _0x2f5151=_0x46a026,_0x3d23ef=this,_0x45d4e1=parseFloat(_0x3d23ef[_0x2f5151(0x16f)]);!isNaN(_0x45d4e1)?document[_0x2f5151(0x82)]('formattedAdvance')[_0x2f5151(0x129)]=formatPrice(_0x45d4e1):document[_0x2f5151(0x82)](_0x2f5151(0x174))[_0x2f5151(0x129)]=_0x2f5151(0x173);}),document[_0x46a026(0x82)](_0x46a026(0x98))[_0x46a026(0xc9)](_0x46a026(0x85),function(){const _0x2523e8=_0x46a026,_0x158bf5=this,_0x1e24fc=parseFloat(_0x158bf5[_0x2523e8(0x16f)]);!isNaN(_0x1e24fc)?document[_0x2523e8(0x82)](_0x2523e8(0x9d))['textContent']=formatPrice(_0x1e24fc):document[_0x2523e8(0x82)](_0x2523e8(0x9d))[_0x2523e8(0x129)]='\x20F\x20CFA';}),document[_0x46a026(0x82)](_0x46a026(0xc2))[_0x46a026(0xc9)]('input',function(){const _0x208d70=_0x46a026,_0x566be7=this,_0x5352c2=parseFloat(_0x566be7[_0x208d70(0x16f)]);!isNaN(_0x5352c2)?document['getElementById'](_0x208d70(0x128))[_0x208d70(0x129)]=formatPrice(_0x5352c2):document['getElementById']('editFormattedPrice')[_0x208d70(0x129)]=_0x208d70(0x173);}),document['getElementById']('editAdvanceAmount')['addEventListener'](_0x46a026(0x85),function(){const _0x5e26fd=_0x46a026,_0x24264f=this,_0x23b6e4=parseFloat(_0x24264f[_0x5e26fd(0x16f)]);!isNaN(_0x23b6e4)?document[_0x5e26fd(0x82)](_0x5e26fd(0xe9))[_0x5e26fd(0x129)]=formatPrice(_0x23b6e4):document['getElementById'](_0x5e26fd(0xe9))[_0x5e26fd(0x129)]=_0x5e26fd(0x173);}),document[_0x46a026(0x82)](_0x46a026(0x96))[_0x46a026(0xc9)](_0x46a026(0x85),function(){const _0x1e8387=_0x46a026,_0x14b95c=this,_0x3f1b8c=parseFloat(_0x14b95c[_0x1e8387(0x16f)]);!isNaN(_0x3f1b8c)?document['getElementById'](_0x1e8387(0x116))[_0x1e8387(0x129)]=formatPrice(_0x3f1b8c):document[_0x1e8387(0x82)](_0x1e8387(0x116))[_0x1e8387(0x129)]=_0x1e8387(0x173);}),document[_0x46a026(0x82)]('advanceAmount')[_0x46a026(0xc9)](_0x46a026(0x85),function(){const _0x298ca3=_0x46a026,_0x18d2db=this,_0x1ab598=parseFloat(_0x18d2db['value']);!isNaN(_0x1ab598)?document[_0x298ca3(0x82)](_0x298ca3(0xff))[_0x298ca3(0x129)]=formatPrice(_0x1ab598):document['getElementById'](_0x298ca3(0xff))[_0x298ca3(0x129)]=_0x298ca3(0x173);}),document[_0x46a026(0x82)](_0x46a026(0x104))['addEventListener'](_0x46a026(0x85),function(){const _0x28edcf=_0x46a026,_0x46124a=this,_0x445537=parseFloat(_0x46124a[_0x28edcf(0x16f)]);!isNaN(_0x445537)?document[_0x28edcf(0x82)](_0x28edcf(0xf0))[_0x28edcf(0x129)]=formatPrice(_0x445537):document[_0x28edcf(0x82)](_0x28edcf(0xf0))[_0x28edcf(0x129)]=_0x28edcf(0x173);}),document['getElementById']('editReservationAdvanceAmount')[_0x46a026(0xc9)](_0x46a026(0x85),function(){const _0x4b5af4=_0x46a026,_0x4ef725=this,_0x288da1=parseFloat(_0x4ef725[_0x4b5af4(0x16f)]);!isNaN(_0x288da1)?document['getElementById'](_0x4b5af4(0x140))[_0x4b5af4(0x129)]=formatPrice(_0x288da1):document[_0x4b5af4(0x82)](_0x4b5af4(0x140))[_0x4b5af4(0x129)]=_0x4b5af4(0x173);}),document[_0x46a026(0x82)](_0x46a026(0xbd))['addEventListener'](_0x46a026(0x85),function(){const _0x3806d3=_0x46a026,_0x3fb3f7=this,_0x1ca383=parseFloat(_0x3fb3f7[_0x3806d3(0x16f)]);!isNaN(_0x1ca383)?document[_0x3806d3(0x82)](_0x3806d3(0x139))['textContent']=formatPrice(_0x1ca383):document[_0x3806d3(0x82)](_0x3806d3(0x139))[_0x3806d3(0x129)]=_0x3806d3(0x173);}),document['getElementById'](_0x46a026(0xfe))[_0x46a026(0xc9)]('input',function(){const _0x31267b=_0x46a026,_0x61dd55=this,_0x3665fa=parseFloat(_0x61dd55[_0x31267b(0x16f)]);!isNaN(_0x3665fa)?document[_0x31267b(0x82)]('editRetourFormattedMontantAjoute')[_0x31267b(0x129)]=formatPrice(_0x3665fa):document[_0x31267b(0x82)](_0x31267b(0xf2))['textContent']=_0x31267b(0x173);});function loadDataFromDatabase(){const _0x201c75=_0x46a026;currentMonth=null,database['ref']()[_0x201c75(0xe1)](_0x201c75(0x100))['on'](_0x201c75(0xa6),_0x205bf9=>{const _0x39d4c1=_0x201c75,_0x369872=_0x205bf9[_0x39d4c1(0x13b)]();_0x369872[_0x39d4c1(0x12d)]!==_0x39d4c1(0xf9)&&_0x369872[_0x39d4c1(0x12d)]!=='retour'&&addRowToTable(_0x369872,_0x205bf9[_0x39d4c1(0x163)],_0x39d4c1(0xf3),!![]);}),database['ref'](_0x201c75(0x13c))[_0x201c75(0xe1)](_0x201c75(0x100))['on'](_0x201c75(0xa6),_0x5684e1=>{const _0x1eec54=_0x201c75,_0x6f4d6c=_0x5684e1['val']();addRowToReservationTable(_0x6f4d6c,_0x5684e1[_0x1eec54(0x163)],!![]);}),database[_0x201c75(0x93)](_0x201c75(0xf6))[_0x201c75(0xe1)](_0x201c75(0x100))['on'](_0x201c75(0xa6),_0x363bfe=>{const _0x4b17fb=_0x363bfe['val']();addRowToRetourTable(_0x4b17fb,_0x363bfe['key'],!![]);}),database[_0x201c75(0x93)]()['on'](_0x201c75(0x120),_0x578313=>{const _0x50ea64=_0x201c75,_0x2b0de7=_0x578313[_0x50ea64(0x13b)]();_0x2b0de7[_0x50ea64(0x12d)]!==_0x50ea64(0xf9)&&_0x2b0de7[_0x50ea64(0x12d)]!=='retour'&&updateRowInTable(_0x2b0de7,_0x578313['key'],_0x50ea64(0xf3));}),database['ref'](_0x201c75(0x13c))['on'](_0x201c75(0x120),_0x277425=>{const _0x4c33c6=_0x201c75,_0xd0ca56=_0x277425['val']();updateRowInTable(_0xd0ca56,_0x277425[_0x4c33c6(0x163)],_0x4c33c6(0xc1));}),database[_0x201c75(0x93)](_0x201c75(0xf6))['on'](_0x201c75(0x120),_0x4794f0=>{const _0x1f73a2=_0x201c75,_0xb4d4e5=_0x4794f0[_0x1f73a2(0x13b)]();updateRowInTable(_0xb4d4e5,_0x4794f0[_0x1f73a2(0x163)],_0x1f73a2(0x156));}),database['ref']()['on'](_0x201c75(0x122),_0x4ed334=>{const _0x833d06=_0x201c75;deleteRowFromTable(_0x4ed334[_0x833d06(0x163)],_0x833d06(0xf3));}),database['ref']('reservations')['on']('child_removed',_0x3dfc12=>{deleteRowFromTable(_0x3dfc12['key'],'reservationTable');}),database[_0x201c75(0x93)](_0x201c75(0xf6))['on'](_0x201c75(0x122),_0x29801d=>{const _0x893447=_0x201c75;deleteRowFromTable(_0x29801d[_0x893447(0x163)],'retourTable');});}function _0x3ffe(){const _0x2866e7=['long','reservationTable','editPrice','month-separator','45TbPrVW','editReservationDataKey','trancheModalAvance','put','editRetourDataKey','addEventListener','quantity','Le\x20retour\x20a\x20été\x20enregistré\x20avec\x20succès.','Erreur\x20lors\x20de\x20la\x20récupération\x20de\x20l\x27image:','Erreur\x20lors\x20de\x20l\x27enregistrement\x20du\x20paiement\x20de\x20la\x20tranche\x20:','child','submit','set','parentNode','.jpg','Image\x20agrandie','body','1:797498750723:web:385d55e45ab4a0221b1b36','image','tableContainer','type','Payer\x20une\x20tranche','#togglePassword','add','selected','insertCell','retours/','replace','fr-FR','orderByChild','Les\x20données\x20ont\x20été\x20enregistrées\x20avec\x20succès\x20dans\x20le\x20tableau\x20des\x20ventes.','365mNejtG','closest','Vous\x20n\x27êtes\x20pas\x20autorisé\x20à\x20enregistrer\x20des\x20données.','admin','fas\x20fa-edit\x20edit-icon','Les\x20données\x20ont\x20été\x20mises\x20à\x20jour\x20avec\x20succès.','formattedEditAdvance','advanceField','formattedTrancheAmount','editDesignation','preventDefault','_nouvelle.jpg','retoursContainer','editReservationFormattedPrice','La\x20réservation\x20a\x20été\x20entièrement\x20payée\x20et\x20déplacée\x20vers\x20le\x20tableau\x20des\x20ventes.','editRetourFormattedMontantAjoute','dataTable','exists','editReservationModal','retours','reservationsContainer','close-image-modal','reservation','dataForm','catch','4344OYTURD','advanceForm','editRetourMontantAjoute','formattedModalAdvance','date','Erreur\x20lors\x20de\x20la\x20récupération\x20de\x20l\x27ancienne\x20image:','editReservationImage','cells','editReservationPrice','code','then','editTelephone','editSaleType','insertRow','remove','tbody','querySelectorAll','razia-data','\x20tr[data-key=\x22','Erreur\x20lors\x20de\x20l\x27enregistrement\x20des\x20données\x20:','editReservationDesignation','none','Erreur\x20lors\x20du\x20marquage\x20de\x20la\x20réservation\x20comme\x20payée\x20:','Le\x20paiement\x20de\x20la\x20tranche\x20a\x20été\x20enregistré.\x20Nouveau\x20montant\x20avancé\x20:\x20','image-modal','fas\x20fa-trash\x20delete-icon','formattedEditMontantAjoute','querySelector','length','display','editRetourAncienneImage','createElement','fullPath','formattedPrice','editReservationForm','Erreur\x20lors\x20de\x20la\x20suppression\x20des\x20données\x20:','child_changed','_ancienne.jpg','child_removed','fa-eye-slash','Erreur:\x20format\x20de\x20date\x20incorrect\x20(','advance','editAdvanceField','trancheModal','editFormattedPrice','textContent','images/','editAdvanceAmount','style','saleType','Êtes-vous\x20sûr\x20de\x20vouloir\x20supprimer\x20cet\x20enregistrement\x20?','appendChild','retour','toLocaleString','split','Erreur\x20lors\x20du\x20paiement\x20total\x20de\x20la\x20réservation\x20:','100px','Les\x20données\x20du\x20retour\x20ont\x20été\x20mises\x20à\x20jour\x20avec\x20succès.','loggedInUserStatus','editImage','editRetourQuantity','editRetourFormattedPrice','setAttribute','val','reservations','editRetourForm','Vous\x20n\x27êtes\x20pas\x20autorisé\x20à\x20modifier\x20les\x20données.','razia-data.firebaseapp.com','editReservationFormattedAdvance','filter','delete','getAttribute','price','retourField','4276290pGgWDp','Image\x20non\x20disponible','loggedInUsername','push','img','button','797498750723','Image','G-F4MYMJVSRV','Nouvelle\x20Image','editQuantity','toggleTableButton','editDate','maxHeight','telephone','error','retourTable','La\x20réservation\x20a\x20été\x20marquée\x20comme\x20payée\x20et\x20ajoutée\x20aux\x20ventes.','alt','4032192jOQEZH','scrollIntoView','getElementsByTagName','Les\x20données\x20de\x20la\x20réservation\x20ont\x20été\x20mises\x20à\x20jour\x20avec\x20succès.','advanceAmount','.delete-icon','editRetourDesignation','error-row','toggleReservationsButton','Statut\x20:\x20','key','trancheForm','getDownloadURL','target','Aucune\x20image','rows','Erreur\x20lors\x20de\x20la\x20mise\x20à\x20jour\x20des\x20données\x20:','colSpan','once','forEach','password','toggleRetoursButton','value','ancienneImage','span','trancheModalPrice','\x20F\x20CFA','formattedAdvance','maxWidth','focus','innerHTML','getElementById','1696022rkQSQz','status','input','files','storage','advanceModal','removeChild','default','update','editForm','vente','getMetadata','data-key','all','className','users/','ref','reservations/','loginPage','editMontantAjoute','357803enAmeX','montantAjoute','Erreur\x20lors\x20de\x20la\x20récupération\x20de\x20la\x20nouvelle\x20image:','getFullYear','razia-data.appspot.com','block','formattedMontantAjoute','username','Format\x20de\x20date\x20incorrect:\x20','editReservationDate','Ancienne\x20Image','869740kcyycR','inline-block','editRetourField','editRetourImage','child_added','mainPage','editReservationTelephone','editRetourDate','userStatusDisplay','L\x27enregistrement\x20a\x20été\x20supprimé\x20avec\x20succès.','designation','click','toggle','reset','Erreur\x20lors\x20de\x20la\x20mise\x20à\x20jour\x20des\x20données\x20du\x20retour\x20:','editRetourModal','102276uRPYPx','smooth','editeur','src','classList','trancheAmount','div','Vous\x20n\x27êtes\x20pas\x20autorisé\x20à\x20supprimer\x20des\x20données.','grid','17633QrpKQX','editModal','editRetourPrice','start','editAncienneImage'];_0x3ffe=function(){return _0x2866e7;};return _0x3ffe();}function resetForm(_0x11434e){const _0x5dfc93=_0x46a026;document[_0x5dfc93(0x82)](_0x11434e)[_0x5dfc93(0xaf)](),_0x11434e===_0x5dfc93(0xfa)&&(document[_0x5dfc93(0x82)](_0x5dfc93(0x11d))['textContent']='\x20F\x20CFA',document[_0x5dfc93(0x82)]('formattedAdvance')[_0x5dfc93(0x129)]=_0x5dfc93(0x173),document['getElementById']('formattedMontantAjoute')[_0x5dfc93(0x129)]='\x20F\x20CFA');}
